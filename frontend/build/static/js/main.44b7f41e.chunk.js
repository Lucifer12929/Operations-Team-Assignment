(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{112:function(e,t,n){},118:function(e,t,n){},139:function(e,t,n){},189:function(e,t,n){},192:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(22),s=n.n(a),i=n(16),u=n(24),o=(n(112),n(40)),l=n(11),j=n(33),b=n(6),d=n(3),p=n(9),O=n(53),f=(n(118),n(28)),h=n.n(f),v=(n.p,n(99)),x=n.n(v),m=(n(138),n(200)),g=(n(139),n(5)),E=function(e){return Object(g.jsx)(m.a,{message:"Success",description:e,type:"success",showIcon:!0,closable:!0})},y=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},S={name:"",email:"",phoneno:"",err:"",success:""},L=function(){var e,t=Object(l.f)(),n=Object(r.useState)(S),c=Object(p.a)(n,2),a=c[0],s=c[1],o=(Object(j.b)(),Object(r.useState)(null)),f=Object(p.a)(o,2),v=f[0],L=f[1],T=a.name,_=a.email,w=a.phoneno,N=a.err,G=a.success,k=function(e){var t;s(Object(d.a)(Object(d.a)({},a),{},(t={},Object(b.a)(t,e.target.name,e.target.value),Object(b.a)(t,"err",""),Object(b.a)(t,"success",""),t)))},R=function(){var e=Object(u.a)(Object(i.a)().mark((function e(n){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),T){e.next=3;break}return e.abrupt("return",s(Object(d.a)(Object(d.a)({},a),{},{err:"Please fill in all fields",success:""})));case 3:if(y(_)){e.next=5;break}return e.abrupt("return",s(Object(d.a)(Object(d.a)({},a),{},{err:"Invalid email",success:""})));case 5:if(!((new Date-new Date(v))/31536e6<18)){e.next=8;break}return e.abrupt("return",s(Object(d.a)(Object(d.a)({},a),{},{err:"Age must be greater than 18",success:""})));case 8:return e.prev=8,e.next=11,h.a.post("/user/register",{name:T,email:_,dob:v,phoneno:w});case 11:r=e.sent,s(Object(d.a)(Object(d.a)({},a),{},{err:"",success:r.data.msg})),t.push("/activated"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),e.t0.response.data.msg&&s(Object(d.a)(Object(d.a)({},a),{},{err:e.t0.response.data.msg,success:""}));case 19:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(t){return e.apply(this,arguments)}}();function U(){this.parentNode.parentNode.classList.add("focus")}function I(){var e=this.parentNode.parentNode;""===this.value&&e.classList.remove("focus")}return document.querySelectorAll(".input").forEach((function(e){e.addEventListener("focus",U),e.addEventListener("blur",I)})),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(O.a,{children:Object(g.jsx)("title",{children:"Sign Up"})}),Object(g.jsx)("div",{class:"container",children:Object(g.jsx)("div",{class:"forms-container",children:Object(g.jsx)("div",{class:"signin-signup",children:Object(g.jsxs)("form",{action:"#",class:"sign-in-form",onSubmit:R,children:[Object(g.jsx)("h2",{className:"title",children:"Sign up"}),N&&(e=N,Object(g.jsx)(m.a,{message:"Error Occured",description:e,type:"error",showIcon:!0,closable:!0})),G&&E(G),Object(g.jsxs)("div",{class:"input-field",children:[Object(g.jsx)("i",{class:"fas fa-user"}),Object(g.jsx)("input",{name:"name",value:T,type:"text",className:"input",placeholder:"Enter Your Name",onChange:k})]}),Object(g.jsxs)("div",{class:"input-field",children:[Object(g.jsx)("i",{class:"fas fa-envelope"}),Object(g.jsx)("input",{name:"email",value:_,type:"text",className:"input",placeholder:"Enter Your Email",onChange:k})]}),Object(g.jsxs)("div",{class:"input-field",children:[Object(g.jsx)("i",{class:"fas fa-calendar"}),Object(g.jsx)(x.a,{id:"dob",selected:v,onChange:function(e){return L(e)},dateFormat:"yyyy-MM-dd",maxDate:new Date,showYearDropdown:!0,scrollableYearDropdown:!0,yearDropdownItemNumber:100,required:!0})]}),Object(g.jsxs)("div",{class:"input-field",children:[Object(g.jsx)("i",{class:"fas fa-mobile"}),Object(g.jsx)("input",{name:"phoneno",value:w,type:"text",className:"input",placeholder:"Enter Your Mobile",onChange:k})]}),Object(g.jsx)("input",{type:"submit",value:"Register",class:"btn solid"})]})})})})]})},T=(n(189),function(){var e=Object(u.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=h.a.create({baseURL:"http://localhost:4000"}),e.next=4,t.get("/user/get");case 4:return n=e.sent,console.log(n),e.abrupt("return",[n,null]);case 9:return e.prev=9,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: getProperty.js:13 ~ getProperty ~ error",e.t0),e.abrupt("return",[null,{message:"Internal Server Error"}]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()),_=T,w=function(){var e=Object(r.useState)(),t=Object(p.a)(e,2),n=t[0],c=t[1],a=function(){var e=Object(u.a)(Object(i.a)().mark((function e(){var t,n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:return t=e.sent,n=Object(p.a)(t,2),r=n[0],n[1],c(r.data),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){a()}),[]),console.log(n),Object(g.jsxs)("div",{className:"activated",children:[Object(g.jsx)("h1",{children:"Success!"}),Object(g.jsx)("h2",{children:"Your form has been submitted successfully. "}),Object(g.jsx)("div",{className:"userdata",children:null===n||void 0===n?void 0:n.map((function(e){return Object(g.jsxs)("div",{className:"usercard",children:[Object(g.jsx)("div",{children:Object(g.jsxs)("h4",{children:["Name: ",e.name]})}),Object(g.jsx)("div",{children:Object(g.jsxs)("h4",{children:["Email: ",e.email]})})]})}))})]})},N={LOGIN:"LOGIN",GET_TOKEN:"GET_TOKEN",GET_USER:"GET_USER",GET_ALL_USERS:"GET_ALL_USERS",GET_ALL_USERS_REQUEST:"GET_ALL_USERS_REQUEST"},G=function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/user/infor",{headers:{Authorization:t}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=n(202),R=n(201);var U=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(O.a,{children:Object(g.jsx)("title",{children:"404"})}),Object(g.jsx)(k.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:Object(g.jsx)(o.b,{to:"/",children:Object(g.jsx)(R.a,{type:"primary",children:"Back Home"})})})]})};var I=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.token})),n=Object(j.c)((function(e){return e.auth})),c=n.isLogged;return Object(r.useEffect)((function(){if(localStorage.getItem("firstLogin")){var t=function(){var t=Object(u.a)(Object(i.a)().mark((function t(){var n;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.post("/user/refresh_token",null);case 2:n=t.sent,e({type:"GET_TOKEN",payload:n.data.access_token});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}}),[n.isLogged,e]),Object(r.useEffect)((function(){if(t){e({type:N.LOGIN}),G(t).then((function(t){e(function(e){return{type:N.GET_USER,payload:{user:e.data}}}(t))}))}}),[t,e]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"main",children:Object(g.jsx)(o.a,{children:Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{exact:!0,path:"/",component:c?U:L}),Object(g.jsx)(l.a,{exact:!0,path:"/activated",component:w}),Object(g.jsx)(l.a,{component:U})]})})})})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,203)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},D=n(104),F=n(44),C=n(103),Y={user:[],isLogged:!1,loading:!1},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.LOGIN:return Object(d.a)(Object(d.a)({},e),{},{isLogged:!0,loading:!0});case N.GET_USER:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,user:t.payload.user});default:return e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.type===N.GET_TOKEN?t.payload:e},K=[],z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.GET_ALL_USERS_REQUEST:return Object(d.a)(Object(d.a)({},e),{},{loadingtab:!0});case N.GET_ALL_USERS:return{users:t.payload,loadingtab:!1};default:return e}},B=Object(F.combineReducers)({auth:M,token:P,usersInfo:z}),Q=[D.a],q=Object(F.createStore)(B,Object(C.composeWithDevTools)(F.applyMiddleware.apply(void 0,Q))),J=function(e){var t=e.children;return Object(g.jsx)(j.a,{store:q,children:t})};s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(J,{children:Object(g.jsx)(I,{})})}),document.getElementById("root")),A()}},[[192,1,2]]]);
//# sourceMappingURL=main.44b7f41e.chunk.js.map